<script>
    const urlParams = new URLSearchParams(location.search);
    const url = location.href.toLowerCase();
    let destination = "";

    function redirect() {
        if(!destination) {
            const browserLanguage = navigator.language || navigator.userLanguage;
            if(browserLanguage.toLowerCase().startsWith("de")) {
                destination = "https://a.nerotv.live";
            } else {
                destination = "https://b.nerotv.live";
            }
        }
        location.href = destination;
    }

    function resolve() {
        let redirectParam = "";
        if(urlParams.get("r")!=null) {
            redirectParam = urlParams.get("r").toLowerCase();
        }
        if(url.includes("/yt")||url.includes("/youtube")||redirectParam.includes("yt")||redirectParam.includes("youtube")) {
            destination = "https://www.youtube.com/@nerotvlive";
        } else if(url.includes("/twitch")||url.includes("/live")||redirectParam.includes("live")||redirectParam.includes("twitch")) {
            destination = "https://twitch.tv/nerotvlive"
        } else if(url.includes("/patreon")||url.includes("/support")||redirectParam.includes("patreon")||redirectParam.includes("support")) {
            destination = "https://patreon.com/nerotvlive"
        } else if(url.includes("/github")||url.includes("/code")||redirectParam.includes("github")||redirectParam.includes("code")) {
            destination = "https://github.com/danieldieeins"
        } else if(url.includes("/insta")||redirectParam.includes("insta")) {
            destination = "https://www.instagram.com/nerotvlive"
        } else if(url.includes("/bluesky")||url.includes("/bsky")||redirectParam.includes("bluesky")||redirectParam.includes("bsky")) {
            destination = "https://bsky.app/profile/nerotv.live"
        } else if(url.includes("/threads")||redirectParam.includes("threads")) {
            destination = "https://www.threads.net/@nerotvlive"
        } else if(url.includes("/dc")||url.includes("/discord")||redirectParam.includes("dc")||redirectParam.includes("discord")) {
            destination = "https://discord.com/invite/99YZNfGRSU"
        } else if(url.includes("/zyneon")||redirectParam.includes("zyneon")) {
            destination = "https://www.zyneonstudios.com"
        } else if(url.includes("/letsplay")||url.includes("/lp")||redirectParam.includes("letsplay")||redirectParam.includes("lp")) {
            destination = "https://www.youtube.com/@danieldieeins"
        } else if(url.includes("/archive")||url.includes("/vod")||redirectParam.includes("archive")||redirectParam.includes("vod")) {
            destination = "https://www.youtube.com/@nerotvoffline"
        } else if(url.includes("/reddit")||redirectParam.includes("reddit")) {
            destination = "https://www.reddit.com/user/nerotvlive";
        } else if(url.includes("/zyndex")||url.includes("/nerodex")||redirectParam.includes("zyndex")||redirectParam.includes("nerodex")) {
            destination = "https://a.nerotv.live/zyndex/";
        } else if(url.includes("/twitter")||url.includes("/x")||redirectParam.includes("twitter")||redirectParam.includes("x")) {
            destination = "https://x.com/nerotvlive"
        } else if(url.includes("/de")||url.includes("/a")||redirectParam.includes("de")||redirectParam.includes("a")) {
            destination = "https://a.nerotv.live";
        } else if(url.includes("/en")||url.includes("/b")||redirectParam.includes("en")||redirectParam.includes("b")) {
            destination = "https://b.nerotv.live";
        } else if(url.includes("/link")||url.includes("/tree")||redirectParam.includes("link")||redirectParam.includes("tree")) {
            destination = "https://linktr.ee/nerotvlive";
        }
        redirect();
    } resolve();
</script>